{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/hp/Desktop/web/Feedback-Hooks/acteursbreakingbad/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/web/Feedback-Hooks/acteursbreakingbad/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\hp\\\\Desktop\\\\web\\\\Feedback-Hooks\\\\acteursbreakingbad\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{createContext,useState}from'react';import axios from'axios';import BreakReducer from'./BreakReducer';import{useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var BreakContexte=/*#__PURE__*/createContext();var BreakProvider=function BreakProvider(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loadingbyname=_useState4[0],setLoadingbyname=_useState4[1];var initialState={acteurs:[],acteur:{},acteurNom:{}};var _useReducer=useReducer(BreakReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),nameSear=_useState8[0],setNameSear=_useState8[1];var fetchActeurs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get('https://www.breakingbadapi.com/api/characters');case 4:response=_context.sent;// console.table(response.data)\ndispatch({type:'GET_ACTEURS',payload:response.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchActeurs(){return _ref2.apply(this,arguments);};}();var fetchActeur=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return axios.get(\"https://www.breakingbadapi.com/api/characters/\".concat(id));case 4:response=_context2.sent;dispatch({type:'GET_ACTEUR',payload:response.data[0]});// console.log(response.data[0])\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:setLoading(false);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function fetchActeur(_x){return _ref3.apply(this,arguments);};}();var fetchByName=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(x){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoadingbyname(true);_context3.prev=1;_context3.next=4;return axios.get(\"https://www.breakingbadapi.com/api/characters?name=\".concat(x));case 4:response=_context3.sent;dispatch({type:'GET_ACTNAME',payload:response.data[0]});// console.log(response.data[0])\n_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 11:setLoadingbyname(false);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function fetchByName(_x2){return _ref4.apply(this,arguments);};}();var clearActeur=function clearActeur(){dispatch({type:'REMOVE_ACTEUR'});};var clearnomActeur=function clearnomActeur(){dispatch({type:'REMOVE_NOMACTEUR'});};return/*#__PURE__*/_jsx(BreakContexte.Provider,{value:{loading:loading,fetchActeurs:fetchActeurs,acteurs:state.acteurs,fetchActeur:fetchActeur,acteur:state.acteur,clearActeur:clearActeur,acteurNom:state.acteurNom,fetchByName:fetchByName,name:name,setName:setName,clearnomActeur:clearnomActeur,nameSear:nameSear,setNameSear:setNameSear,loadingbyname:loadingbyname,setLoadingbyname:setLoadingbyname},children:children});};export default BreakProvider;","map":{"version":3,"sources":["C:/Users/hp/Desktop/web/Feedback-Hooks/acteursbreakingbad/src/contexte/BreakContexte.jsx"],"names":["React","createContext","useState","axios","BreakReducer","useReducer","BreakContexte","BreakProvider","children","loading","setLoading","loadingbyname","setLoadingbyname","initialState","acteurs","acteur","acteurNom","state","dispatch","name","setName","nameSear","setNameSear","fetchActeurs","get","response","type","payload","data","console","log","fetchActeur","id","fetchByName","x","clearActeur","clearnomActeur"],"mappings":"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","sourcesContent":["import React, { createContext, useState } from 'react'\r\nimport axios from 'axios'\r\nimport BreakReducer from './BreakReducer'\r\nimport { useReducer } from 'react';\r\n\r\n\r\n\r\nexport const BreakContexte = createContext();\r\n\r\nconst BreakProvider = ({children}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingbyname, setLoadingbyname] = useState(true);\r\n\r\n  const initialState = {\r\n    acteurs: [],\r\n    acteur: {},\r\n    acteurNom: {},\r\n  }\r\n  const [state, dispatch] = useReducer(BreakReducer, initialState);\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameSear, setNameSear] = useState('');\r\n\r\n\r\n  const fetchActeurs = async() => {\r\n      setLoading(true);\r\n      try {\r\n          const response = await axios.get('https://www.breakingbadapi.com/api/characters')\r\n          // console.table(response.data)\r\n          dispatch({\r\n            type: 'GET_ACTEURS',\r\n            payload: response.data,\r\n          })\r\n      } catch (error) {\r\n          console.log(error)\r\n      }  \r\n      setLoading(false);   \r\n  }\r\n\r\n  const fetchActeur = async(id) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(`https://www.breakingbadapi.com/api/characters/${id}`);\r\n      dispatch({\r\n        type: 'GET_ACTEUR',\r\n        payload: response.data[0],\r\n      })\r\n      // console.log(response.data[0])\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  const fetchByName = async(x) => {\r\n    setLoadingbyname(true);\r\n    try {\r\n      const response = await axios.get(`https://www.breakingbadapi.com/api/characters?name=${x}`);\r\n      dispatch({\r\n        type: 'GET_ACTNAME',\r\n        payload: response.data[0],\r\n      })\r\n      // console.log(response.data[0])\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingbyname(false);\r\n  }\r\n\r\n  const clearActeur = () => {\r\n    dispatch({type: 'REMOVE_ACTEUR'})\r\n  }\r\n  const clearnomActeur = () => {\r\n    dispatch({type: 'REMOVE_NOMACTEUR'})\r\n  }\r\n\r\n  return (\r\n    <BreakContexte.Provider value={\r\n      {\r\n        loading,\r\n        fetchActeurs,\r\n        acteurs: state.acteurs,\r\n        fetchActeur,\r\n        acteur: state.acteur,\r\n        clearActeur,\r\n        acteurNom: state.acteurNom,\r\n        fetchByName,\r\n        name,\r\n        setName,\r\n        clearnomActeur,\r\n        nameSear,\r\n        setNameSear,\r\n        loadingbyname,\r\n        setLoadingbyname,\r\n      }\r\n    }>\r\n        {children}\r\n    </BreakContexte.Provider>\r\n  )\r\n}\r\n\r\nexport default BreakProvider"]},"metadata":{},"sourceType":"module"}